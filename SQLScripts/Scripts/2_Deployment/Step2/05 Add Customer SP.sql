IF OBJECT_ID(N'[ECOMMERCE].[CustomerAdd]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[CustomerAdd]

GO

-- Generated By:   Qasem Hammouri , Sunday, March 31, 2013

CREATE PROCEDURE [ECOMMERCE].[CustomerAdd]
	@P_CUSTOMER_FNAME nvarchar(250),
	@P_CUSTOMER_LNAME nvarchar(250),
	@P_CUSTOMER_GENDER int=0,
	@P_CUSTOMER_BIRTHDAY datetime,
	@P_CUSTOMER_ZIP_CODE nvarchar(50),
	@P_CUSTOMER_COUNTRY int,
	@P_CUSTOMER_CITY nvarchar(50),
	@P_CUSTOMER_ADDRESS1 nvarchar(500),
	@P_CUSTOMER_ADDRESS2 nvarchar(500),
	@P_CUSTOMER_ADDRESS3 nvarchar(500),
	@P_CUSTOMER_MOBILE_PHONE nvarchar(15),
	@P_CUSTOMER_HOME_PHONE nvarchar(15),
	@P_CUSTOMER_STATUS int=1,
	@P_CUSTOMER_NEWSLETTER int=0,
	@P_CUSTOMER_OPT_IN int=0,
	@P_CUSTOMER_USER_ID int,
	@P_CUSTOMER_ID int OUTPUT
AS

SET NOCOUNT ON

INSERT INTO [ECOMMERCE].[CUSTOMER] (
	[CUSTOMER_FNAME],
	[CUSTOMER_LNAME],
	[CUSTOMER_GENDER],
	[CUSTOMER_BIRTHDAY],
	[CUSTOMER_ZIP_CODE],
	[CUSTOMER_COUNTRY],
	[CUSTOMER_CITY],
	[CUSTOMER_ADDRESS1],
	[CUSTOMER_ADDRESS2],
	[CUSTOMER_ADDRESS3],
	[CUSTOMER_MOBILE_PHONE],
	[CUSTOMER_HOME_PHONE],
	[CUSTOMER_STATUS],
	[CUSTOMER_NEWSLETTER],
	[CUSTOMER_OPT_IN],
	[CUSTOMER_USER_ID]
) VALUES (
	@P_CUSTOMER_FNAME,
	@P_CUSTOMER_LNAME,
	@P_CUSTOMER_GENDER,
	@P_CUSTOMER_BIRTHDAY,
	@P_CUSTOMER_ZIP_CODE,
	@P_CUSTOMER_COUNTRY,
	@P_CUSTOMER_CITY,
	@P_CUSTOMER_ADDRESS1,
	@P_CUSTOMER_ADDRESS2,
	@P_CUSTOMER_ADDRESS3,
	@P_CUSTOMER_MOBILE_PHONE,
	@P_CUSTOMER_HOME_PHONE,
	@P_CUSTOMER_STATUS,
	@P_CUSTOMER_NEWSLETTER,
	@P_CUSTOMER_OPT_IN,
	@P_CUSTOMER_USER_ID
)

SET @P_CUSTOMER_ID = SCOPE_IDENTITY()

GO


IF OBJECT_ID(N'[ECOMMERCE].[CustomerUpdate]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[CustomerUpdate]
-- Generated By:   Qasem Hammouri , Sunday, March 31, 2013
go

CREATE PROCEDURE [ECOMMERCE].[CustomerUpdate]
	@P_CUSTOMER_ID int,
	@P_CUSTOMER_FNAME nvarchar(250),
	@P_CUSTOMER_LNAME nvarchar(250),
	@P_CUSTOMER_GENDER int,
	@P_CUSTOMER_BIRTHDAY datetime,
	@P_CUSTOMER_ZIP_CODE nvarchar(50),
	@P_CUSTOMER_COUNTRY int,
	@P_CUSTOMER_CITY nvarchar(50),
	@P_CUSTOMER_ADDRESS1 nvarchar(500),
	@P_CUSTOMER_ADDRESS2 nvarchar(500),
	@P_CUSTOMER_ADDRESS3 nvarchar(500),
	@P_CUSTOMER_MOBILE_PHONE nvarchar(15),
	@P_CUSTOMER_HOME_PHONE nvarchar(15),
	@P_CUSTOMER_STATUS int,
	@P_CUSTOMER_NEWSLETTER int,
	@P_CUSTOMER_OPT_IN int,
	@P_CUSTOMER_USER_ID int
AS

SET NOCOUNT ON

UPDATE [ECOMMERCE].[CUSTOMER] SET
	[CUSTOMER_FNAME] = @P_CUSTOMER_FNAME,
	[CUSTOMER_LNAME] = @P_CUSTOMER_LNAME,
	[CUSTOMER_GENDER] = @P_CUSTOMER_GENDER,
	[CUSTOMER_BIRTHDAY] = @P_CUSTOMER_BIRTHDAY,
	[CUSTOMER_ZIP_CODE] = @P_CUSTOMER_ZIP_CODE,
	[CUSTOMER_COUNTRY] = @P_CUSTOMER_COUNTRY,
	[CUSTOMER_CITY] = @P_CUSTOMER_CITY,
	[CUSTOMER_ADDRESS1] = @P_CUSTOMER_ADDRESS1,
	[CUSTOMER_ADDRESS2] = @P_CUSTOMER_ADDRESS2,
	[CUSTOMER_ADDRESS3] = @P_CUSTOMER_ADDRESS3,
	[CUSTOMER_MOBILE_PHONE] = @P_CUSTOMER_MOBILE_PHONE,
	[CUSTOMER_HOME_PHONE] = @P_CUSTOMER_HOME_PHONE,
	[CUSTOMER_STATUS] = @P_CUSTOMER_STATUS,
	[CUSTOMER_NEWSLETTER] = @P_CUSTOMER_NEWSLETTER,
	[CUSTOMER_OPT_IN] = @P_CUSTOMER_OPT_IN,
	[CUSTOMER_USER_ID] = @P_CUSTOMER_USER_ID
WHERE
	[CUSTOMER_ID] = @P_CUSTOMER_ID


GO

IF OBJECT_ID(N'[ECOMMERCE].[CustomerDelete]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[CustomerDelete]

-- Generated By:   Qasem Hammouri , Sunday, March 31, 2013
go

CREATE PROCEDURE [ECOMMERCE].[CustomerDelete]
	@P_CUSTOMER_ID int
AS

SET NOCOUNT ON

DELETE FROM [ECOMMERCE].[CUSTOMER]
WHERE
	[CUSTOMER_ID] = @P_CUSTOMER_ID


GO


IF OBJECT_ID(N'[ECOMMERCE].[CustomerGetByID]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[CustomerGetByID]

-- Generated By:   Qasem Hammouri , Sunday, March 31, 2013
go

CREATE PROCEDURE [ECOMMERCE].[CustomerGetByID]
	@P_CUSTOMER_ID int
AS

SET NOCOUNT ON
SET TRANSACTION ISOLATION LEVEL READ COMMITTED

SELECT
	[CUSTOMER_ID],
	[CUSTOMER_FNAME],
	[CUSTOMER_LNAME],
	[CUSTOMER_GENDER],
	[CUSTOMER_BIRTHDAY],
	[CUSTOMER_ZIP_CODE],
	[CUSTOMER_COUNTRY],
	[CUSTOMER_CITY],
	[CUSTOMER_ADDRESS1],
	[CUSTOMER_ADDRESS2],
	[CUSTOMER_ADDRESS3],
	[CUSTOMER_MOBILE_PHONE],
	[CUSTOMER_HOME_PHONE],
	[CUSTOMER_STATUS],
	[CUSTOMER_NEWSLETTER],
	[CUSTOMER_OPT_IN],
	[CUSTOMER_USER_ID]
FROM
	[ECOMMERCE].[CUSTOMER]
WHERE
	[CUSTOMER_ID] = @P_CUSTOMER_ID

GO


IF OBJECT_ID(N'[ECOMMERCE].[CustomerGetAll]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[CustomerGetAll]

-- Generated By:   Qasem Hammouri , Sunday, March 31, 2013
go


CREATE PROCEDURE [ECOMMERCE].[CustomerGetAll]
AS

SET NOCOUNT ON
SET TRANSACTION ISOLATION LEVEL READ COMMITTED

SELECT
	[CUSTOMER_ID],
	[CUSTOMER_FNAME],
	[CUSTOMER_LNAME],
	[CUSTOMER_GENDER],
	[CUSTOMER_BIRTHDAY],
	[CUSTOMER_ZIP_CODE],
	[CUSTOMER_COUNTRY],
	[CUSTOMER_CITY],
	[CUSTOMER_ADDRESS1],
	[CUSTOMER_ADDRESS2],
	[CUSTOMER_ADDRESS3],
	[CUSTOMER_MOBILE_PHONE],
	[CUSTOMER_HOME_PHONE],
	[CUSTOMER_STATUS],
	[CUSTOMER_NEWSLETTER],
	[CUSTOMER_OPT_IN],
	[CUSTOMER_USER_ID]
FROM
	[ECOMMERCE].[CUSTOMER]

GO


IF OBJECT_ID(N'[ECOMMERCE].[CustomerGetByUserID]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[CustomerGetByUserID]

-- Generated By:   Qasem Hammouri , Sunday, March 31, 2013
go	
CREATE PROCEDURE [ECOMMERCE].[CustomerGetByUserID]
	@P_CUSTOMER_USER_ID int
AS

SET NOCOUNT ON
SET TRANSACTION ISOLATION LEVEL READ COMMITTED

SELECT
	[CUSTOMER_ID],
	[CUSTOMER_FNAME],
	[CUSTOMER_LNAME],
	[CUSTOMER_GENDER],
	[CUSTOMER_BIRTHDAY],
	[CUSTOMER_ZIP_CODE],
	[CUSTOMER_COUNTRY],
	[CUSTOMER_CITY],
	[CUSTOMER_ADDRESS1],
	[CUSTOMER_ADDRESS2],
	[CUSTOMER_ADDRESS3],
	[CUSTOMER_MOBILE_PHONE],
	[CUSTOMER_HOME_PHONE],
	[CUSTOMER_STATUS],
	[CUSTOMER_NEWSLETTER],
	[CUSTOMER_OPT_IN],
	[CUSTOMER_USER_ID]
FROM
	[ECOMMERCE].[CUSTOMER]
WHERE
	[CUSTOMER_USER_ID] = @P_CUSTOMER_USER_ID
	go
