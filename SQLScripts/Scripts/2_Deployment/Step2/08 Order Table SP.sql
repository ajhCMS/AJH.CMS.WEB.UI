--region Drop Existing Procedures

IF OBJECT_ID(N'[ECOMMERCE].[OrderAdd]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[OrderAdd]

IF OBJECT_ID(N'[ECOMMERCE].[OrderUpdate]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[OrderUpdate]

IF OBJECT_ID(N'[ECOMMERCE].[OrderDelete]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[OrderDelete]

IF OBJECT_ID(N'[ECOMMERCE].[orderGetByID]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[orderGetByID]

IF OBJECT_ID(N'[ECOMMERCE].[OrderGetALL]') IS NOT NULL
	DROP PROCEDURE [ECOMMERCE].[OrderGetALL]
IF OBJECT_ID(N'[ECOMMERCE].[OrderGetByCustomerID]') IS NOT NULL
DROP PROCEDURE [ECOMMERCE].[OrderGetByCustomerID]
--endregion

GO

--region [ECOMMERCE].[OrderAdd]

------------------------------------------------------------------------------------------------------------------------
-- Generated By:   Qasem Al-Hammouri
-- Procedure Name: [ECOMMERCE].[OrderAdd]
-- Date Generated: Tuesday, April 23, 2013
------------------------------------------------------------------------------------------------------------------------

CREATE PROCEDURE [ECOMMERCE].[OrderAdd]
	@P_ORDER_CUSTOMER_ID int,
	@P_ORDER_CREATED_ON datetime,
	@P_ORDER_STATUS int,
	@P_ORDER_TOTAL_AMOUNT int,
	@P_XREF_ODER int,
	@P_ORDER_ID int OUTPUT
AS

SET NOCOUNT ON

INSERT INTO [ECOMMERCE].[ORDER] (
	[ORDER_CUSTOMER_ID],
	[ORDER_CREATED_ON],
	[ORDER_STATUS],
	[ORDER_TOTAL_AMOUNT],
	[XREF_ODER]
) VALUES (
	@P_ORDER_CUSTOMER_ID,
	@P_ORDER_CREATED_ON,
	@P_ORDER_STATUS,
	@P_ORDER_TOTAL_AMOUNT,
	@P_XREF_ODER
)

SET @P_ORDER_ID = SCOPE_IDENTITY()

--endregion

GO

--region [ECOMMERCE].[OrderUpdate]

------------------------------------------------------------------------------------------------------------------------
-- Generated By:   Qasem Al-Hammouri
-- Procedure Name: [ECOMMERCE].[OrderUpdate]
-- Date Generated: Tuesday, April 23, 2013
------------------------------------------------------------------------------------------------------------------------

CREATE PROCEDURE [ECOMMERCE].[OrderUpdate]
	@P_ORDER_ID int,
	@P_ORDER_CUSTOMER_ID int,
	@P_ORDER_CREATED_ON datetime,
	@P_ORDER_STATUS int,
	@P_ORDER_TOTAL_AMOUNT int,
	@P_XREF_ODER int
AS

SET NOCOUNT ON

UPDATE [ECOMMERCE].[ORDER] SET
	[ORDER_CUSTOMER_ID] = @P_ORDER_CUSTOMER_ID,
	[ORDER_CREATED_ON] = @P_ORDER_CREATED_ON,
	[ORDER_STATUS] = @P_ORDER_STATUS,
	[ORDER_TOTAL_AMOUNT] = @P_ORDER_TOTAL_AMOUNT,
	[XREF_ODER] = @P_XREF_ODER
WHERE
	[ORDER_ID] = @P_ORDER_ID

--endregion

GO

--region [ECOMMERCE].[OrderDelete]

------------------------------------------------------------------------------------------------------------------------
-- Generated By:   Qasem Al-Hammouri

-- Procedure Name: [ECOMMERCE].[OrderDelete]
-- Date Generated: Tuesday, April 23, 2013
------------------------------------------------------------------------------------------------------------------------

CREATE PROCEDURE [ECOMMERCE].[OrderDelete]
	@P_ORDER_ID int
AS

SET NOCOUNT ON

DELETE FROM [ECOMMERCE].[ORDER]
WHERE
	[ORDER_ID] = @P_ORDER_ID

--endregion

GO

--region [ECOMMERCE].[OrderGetByID]

------------------------------------------------------------------------------------------------------------------------
-- Generated By:   Qasem Al-Hammouri

-- Procedure Name: [ECOMMERCE].[OrderGetByID]
-- Date Generated: Tuesday, April 23, 2013
------------------------------------------------------------------------------------------------------------------------

CREATE PROCEDURE [ECOMMERCE].[OrderGetByID]
	@P_ORDER_ID int
AS

SET NOCOUNT ON
SET TRANSACTION ISOLATION LEVEL READ COMMITTED

SELECT
	[ORDER_ID],
	[ORDER_CUSTOMER_ID],
	[ORDER_CREATED_ON],
	[ORDER_STATUS],
	[ORDER_TOTAL_AMOUNT],
	[XREF_ODER]
FROM
	[ECOMMERCE].[ORDER]
WHERE
	[ORDER_ID] = @P_ORDER_ID

--endregion

GO

--region [ECOMMERCE].[OrderGetALL]

------------------------------------------------------------------------------------------------------------------------
-- Generated By:   Qasem Al-Hammouri
-- Procedure Name: [ECOMMERCE].[OrderGetALL]
-- Date Generated: Tuesday, April 23, 2013
------------------------------------------------------------------------------------------------------------------------

CREATE PROCEDURE [ECOMMERCE].[OrderGetALL]
AS

SET NOCOUNT ON
SET TRANSACTION ISOLATION LEVEL READ COMMITTED

SELECT
	[ORDER_ID],
	[ORDER_CUSTOMER_ID],
	[ORDER_CREATED_ON],
	[ORDER_STATUS],
	[ORDER_TOTAL_AMOUNT],
	[XREF_ODER]
FROM
	[ECOMMERCE].[ORDER]

--endregion

GO

GO

--region [ECOMMERCE].[OrderGetByID]

------------------------------------------------------------------------------------------------------------------------
-- Generated By:   Qasem Al-Hammouri

-- Procedure Name: [ECOMMERCE].[OrderGetByID]
-- Date Generated: Tuesday, April 23, 2013
------------------------------------------------------------------------------------------------------------------------

CREATE PROCEDURE [ECOMMERCE].[OrderGetByCustomerID]
	@P_ORDER_CUSTOMER_ID int
AS

SET NOCOUNT ON
SET TRANSACTION ISOLATION LEVEL READ COMMITTED

SELECT
	[ORDER_ID],
	[ORDER_CUSTOMER_ID],
	[ORDER_CREATED_ON],
	[ORDER_STATUS],
	[ORDER_TOTAL_AMOUNT],
	[XREF_ODER]
FROM
	[ECOMMERCE].[ORDER]
WHERE
	[ORDER_CUSTOMER_ID] = @P_ORDER_CUSTOMER_ID

--endregion

GO	